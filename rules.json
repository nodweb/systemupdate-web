{"status":"success","data":{"groups":[{"name":"systemupdate-service-alerts","file":"/etc/prometheus/alerts.rules.yml","rules":[{"state":"inactive","name":"HighErrorRate","query":"(sum by (service_name) (rate(traces_spanmetrics_calls_total{status_code!=\"STATUS_CODE_OK\"}[5m])) / clamp_min(sum by (service_name) (rate(traces_spanmetrics_calls_total[5m])), 1e-09)) \u003e 0.05","duration":120,"keepFiringFor":0,"labels":{"severity":"warning"},"annotations":{"description":"Error rate for {{ $labels.service_name }} exceeded 5% over the last 5 minutes.\nvalue={{ $value }}\n","summary":"High error rate (>5%) for service {{ $labels.service_name }}"},"alerts":[],"health":"ok","evaluationTime":0.000547347,"lastEvaluation":"2025-08-16T06:18:15.909660304Z","type":"alerting"},{"state":"inactive","name":"VeryHighErrorRate","query":"(sum by (service_name) (rate(traces_spanmetrics_calls_total{status_code!=\"STATUS_CODE_OK\"}[5m])) / clamp_min(sum by (service_name) (rate(traces_spanmetrics_calls_total[5m])), 1e-09)) \u003e 0.15","duration":120,"keepFiringFor":0,"labels":{"severity":"critical"},"annotations":{"description":"Error rate for {{ $labels.service_name }} exceeded 15% over the last 5 minutes.\nvalue={{ $value }}\n","summary":"Very high error rate (>15%) for service {{ $labels.service_name }}"},"alerts":[],"health":"ok","evaluationTime":0.000246006,"lastEvaluation":"2025-08-16T06:18:15.910213364Z","type":"alerting"},{"state":"inactive","name":"HighLatencyP95","query":"histogram_quantile(0.95, sum by (le, service_name) (rate(traces_spanmetrics_duration_milliseconds_bucket[5m]))) \u003e 500","duration":120,"keepFiringFor":0,"labels":{"severity":"warning"},"annotations":{"description":"p95 latency for {{ $labels.service_name }} exceeded 500ms over the last 5 minutes.\nvalue={{ $value }} ms\n","summary":"High p95 latency (>500ms) for service {{ $labels.service_name }}"},"alerts":[],"health":"ok","evaluationTime":0.000249814,"lastEvaluation":"2025-08-16T06:18:15.910465084Z","type":"alerting"},{"state":"inactive","name":"ErrorBudgetBurnFast","query":"((sum by (service_name) (rate(traces_spanmetrics_calls_total{status_code!=\"STATUS_CODE_OK\"}[5m])) / clamp_min(sum by (service_name) (rate(traces_spanmetrics_calls_total[5m])), 1e-09)) / 0.05) \u003e 14.4 and ((sum by (service_name) (rate(traces_spanmetrics_calls_total{status_code!=\"STATUS_CODE_OK\"}[1h])) / clamp_min(sum by (service_name) (rate(traces_spanmetrics_calls_total[1h])), 1e-09)) / 0.05) \u003e 14.4","duration":120,"keepFiringFor":0,"labels":{"severity":"critical"},"annotations":{"description":"{{ $labels.service_name }} is burning error budget quickly (5m and 1h both >14.4x budget for 95% SLO).\n5m burn rate={{ $value }}x (note: shows current series value); verify alongside 1h window in Prometheus.\n","summary":"Fast error budget burn for {{ $labels.service_name }}"},"alerts":[],"health":"ok","evaluationTime":0.000563086,"lastEvaluation":"2025-08-16T06:18:15.910720311Z","type":"alerting"},{"state":"inactive","name":"ErrorBudgetBurnSlow","query":"((sum by (service_name) (rate(traces_spanmetrics_calls_total{status_code!=\"STATUS_CODE_OK\"}[30m])) / clamp_min(sum by (service_name) (rate(traces_spanmetrics_calls_total[30m])), 1e-09)) / 0.05) \u003e 6 and ((sum by (service_name) (rate(traces_spanmetrics_calls_total{status_code!=\"STATUS_CODE_OK\"}[6h])) / clamp_min(sum by (service_name) (rate(traces_spanmetrics_calls_total[6h])), 1e-09)) / 0.05) \u003e 6","duration":600,"keepFiringFor":0,"labels":{"severity":"warning"},"annotations":{"description":"{{ $labels.service_name }} is burning error budget steadily (30m and 6h both >6x budget for 95% SLO).\n","summary":"Slow error budget burn for {{ $labels.service_name }}"},"alerts":[],"health":"ok","evaluationTime":0.000530706,"lastEvaluation":"2025-08-16T06:18:15.911291116Z","type":"alerting"}],"interval":30,"limit":0,"evaluationTime":0.002188383,"lastEvaluation":"2025-08-16T06:18:15.909637147Z"},{"name":"systemupdate-uptime-alerts","file":"/etc/prometheus/alerts.rules.yml","rules":[{"state":"firing","name":"EndpointDownWarning","query":"probe_success{job=\"blackbox-http\"} == 0","duration":60,"keepFiringFor":0,"labels":{"severity":"warning"},"annotations":{"description":"Blackbox probe failed for {{ $labels.instance }} for at least 1 minute.\n","summary":"Endpoint down (probe failed): {{ $labels.instance }}"},"alerts":[{"labels":{"alertname":"EndpointDownWarning","instance":"http://command-service:8004/health","job":"blackbox-http","severity":"warning"},"annotations":{"description":"Blackbox probe failed for http://command-service:8004/health for at least 1 minute.\n","summary":"Endpoint down (probe failed): http://command-service:8004/health"},"state":"firing","activeAt":"2025-08-16T05:58:13.348087097Z","value":"0e+00"},{"labels":{"alertname":"EndpointDownWarning","instance":"http://ws-hub:8002/health","job":"blackbox-http","severity":"warning"},"annotations":{"description":"Blackbox probe failed for http://ws-hub:8002/health for at least 1 minute.\n","summary":"Endpoint down (probe failed): http://ws-hub:8002/health"},"state":"firing","activeAt":"2025-08-16T05:58:43.348087097Z","value":"0e+00"},{"labels":{"alertname":"EndpointDownWarning","instance":"http://analytics-service:8006/health","job":"blackbox-http","severity":"warning"},"annotations":{"description":"Blackbox probe failed for http://analytics-service:8006/health for at least 1 minute.\n","summary":"Endpoint down (probe failed): http://analytics-service:8006/health"},"state":"firing","activeAt":"2025-08-16T05:58:43.348087097Z","value":"0e+00"},{"labels":{"alertname":"EndpointDownWarning","instance":"http://device-service:8003/health","job":"blackbox-http","severity":"warning"},"annotations":{"description":"Blackbox probe failed for http://device-service:8003/health for at least 1 minute.\n","summary":"Endpoint down (probe failed): http://device-service:8003/health"},"state":"firing","activeAt":"2025-08-16T05:58:43.348087097Z","value":"0e+00"},{"labels":{"alertname":"EndpointDownWarning","instance":"http://data-ingest-service:8005/health","job":"blackbox-http","severity":"warning"},"annotations":{"description":"Blackbox probe failed for http://data-ingest-service:8005/health for at least 1 minute.\n","summary":"Endpoint down (probe failed): http://data-ingest-service:8005/health"},"state":"firing","activeAt":"2025-08-16T05:58:43.348087097Z","value":"0e+00"},{"labels":{"alertname":"EndpointDownWarning","instance":"http://auth-service:8001/health","job":"blackbox-http","severity":"warning"},"annotations":{"description":"Blackbox probe failed for http://auth-service:8001/health for at least 1 minute.\n","summary":"Endpoint down (probe failed): http://auth-service:8001/health"},"state":"firing","activeAt":"2025-08-16T05:58:43.348087097Z","value":"0e+00"}],"health":"ok","evaluationTime":0.001065353,"lastEvaluation":"2025-08-16T06:18:00.997386888Z","type":"alerting"},{"state":"firing","name":"EndpointDownCritical","query":"probe_success{job=\"blackbox-http\"} == 0","duration":300,"keepFiringFor":0,"labels":{"severity":"critical"},"annotations":{"description":"Blackbox probe has been failing for {{ $labels.instance }} for 5 minutes.\n","summary":"Endpoint down (critical): {{ $labels.instance }}"},"alerts":[{"labels":{"alertname":"EndpointDownCritical","instance":"http://command-service:8004/health","job":"blackbox-http","severity":"critical"},"annotations":{"description":"Blackbox probe has been failing for http://command-service:8004/health for 5 minutes.\n","summary":"Endpoint down (critical): http://command-service:8004/health"},"state":"firing","activeAt":"2025-08-16T05:58:13.348087097Z","value":"0e+00"},{"labels":{"alertname":"EndpointDownCritical","instance":"http://analytics-service:8006/health","job":"blackbox-http","severity":"critical"},"annotations":{"description":"Blackbox probe has been failing for http://analytics-service:8006/health for 5 minutes.\n","summary":"Endpoint down (critical): http://analytics-service:8006/health"},"state":"firing","activeAt":"2025-08-16T05:58:43.348087097Z","value":"0e+00"},{"labels":{"alertname":"EndpointDownCritical","instance":"http://device-service:8003/health","job":"blackbox-http","severity":"critical"},"annotations":{"description":"Blackbox probe has been failing for http://device-service:8003/health for 5 minutes.\n","summary":"Endpoint down (critical): http://device-service:8003/health"},"state":"firing","activeAt":"2025-08-16T05:58:43.348087097Z","value":"0e+00"},{"labels":{"alertname":"EndpointDownCritical","instance":"http://data-ingest-service:8005/health","job":"blackbox-http","severity":"critical"},"annotations":{"description":"Blackbox probe has been failing for http://data-ingest-service:8005/health for 5 minutes.\n","summary":"Endpoint down (critical): http://data-ingest-service:8005/health"},"state":"firing","activeAt":"2025-08-16T05:58:43.348087097Z","value":"0e+00"},{"labels":{"alertname":"EndpointDownCritical","instance":"http://auth-service:8001/health","job":"blackbox-http","severity":"critical"},"annotations":{"description":"Blackbox probe has been failing for http://auth-service:8001/health for 5 minutes.\n","summary":"Endpoint down (critical): http://auth-service:8001/health"},"state":"firing","activeAt":"2025-08-16T05:58:43.348087097Z","value":"0e+00"},{"labels":{"alertname":"EndpointDownCritical","instance":"http://ws-hub:8002/health","job":"blackbox-http","severity":"critical"},"annotations":{"description":"Blackbox probe has been failing for http://ws-hub:8002/health for 5 minutes.\n","summary":"Endpoint down (critical): http://ws-hub:8002/health"},"state":"firing","activeAt":"2025-08-16T05:58:43.348087097Z","value":"0e+00"}],"health":"ok","evaluationTime":0.001705356,"lastEvaluation":"2025-08-16T06:18:00.998462588Z","type":"alerting"},{"state":"firing","name":"EndpointHighLatency","query":"avg_over_time(probe_duration_seconds{job=\"blackbox-http\"}[5m]) \u003e 1","duration":180,"keepFiringFor":0,"labels":{"severity":"warning"},"annotations":{"description":"Average probe duration for {{ $labels.instance }} exceeded 1s over the last 5 minutes.\n","summary":"High probe latency (>1s avg over 5m): {{ $labels.instance }}"},"alerts":[{"labels":{"alertname":"EndpointHighLatency","instance":"http://analytics-service:8006/health","job":"blackbox-http","severity":"warning"},"annotations":{"description":"Average probe duration for http://analytics-service:8006/health exceeded 1s over the last 5 minutes.\n","summary":"High probe latency (>1s avg over 5m): http://analytics-service:8006/health"},"state":"firing","activeAt":"2025-08-16T05:58:43.348087097Z","value":"1.0651416412499999e+00"}],"health":"ok","evaluationTime":0.000496867,"lastEvaluation":"2025-08-16T06:18:01.000181131Z","type":"alerting"}],"interval":30,"limit":0,"evaluationTime":0.003314239,"lastEvaluation":"2025-08-16T06:18:00.997367411Z"},{"name":"systemupdate-recording-slo","file":"/etc/prometheus/recording.rules.yml","rules":[{"name":"service:error_rate:ratio_rate5m","query":"(sum by (service_name) (rate(traces_spanmetrics_calls_total{status_code!=\"STATUS_CODE_OK\"}[5m])) / clamp_min(sum by (service_name) (rate(traces_spanmetrics_calls_total[5m])), 1e-09))","health":"ok","evaluationTime":0.000468955,"lastEvaluation":"2025-08-16T06:17:57.516368701Z","type":"recording"},{"name":"service:availability:percent5m","query":"100 * (1 - service:error_rate:ratio_rate5m)","health":"ok","evaluationTime":0.00021732,"lastEvaluation":"2025-08-16T06:17:57.516849706Z","type":"recording"},{"name":"service:latency_p95_ms:5m","query":"histogram_quantile(0.95, sum by (le, service_name) (rate(traces_spanmetrics_duration_milliseconds_bucket[5m])))","health":"ok","evaluationTime":0.000243158,"lastEvaluation":"2025-08-16T06:17:57.517071622Z","type":"recording"}],"interval":30,"limit":0,"evaluationTime":0.000999489,"lastEvaluation":"2025-08-16T06:17:57.516319988Z"}]}}

